[gd_scene format=3 uid="uid://dhy5f81eytswm"]

[ext_resource type="PackedScene" uid="uid://cc1m2a1obsyn4" path="res://Player/character.tscn" id="1_ig7tw"]
[ext_resource type="Script" uid="uid://ckqaavaslkm4k" path="res://main.gd" id="1_ryguw"]
[ext_resource type="PackedScene" uid="uid://dhpfeub82th3n" path="res://Interface/Inventory/inventory_ui.tscn" id="2_0xm2m"]
[ext_resource type="PackedScene" uid="uid://dqoxbykl7fg8w" path="res://Interface/hud.tscn" id="2_074og"]
[ext_resource type="PackedScene" uid="uid://j22i50g5odp8" path="res://Items/grabbable.tscn" id="3_h2yge"]
[ext_resource type="Resource" uid="uid://ib385dgptwrd" path="res://Data/Items/Food/wine.tres" id="4_5vw27"]
[ext_resource type="Script" uid="uid://crfuvv7qrrub3" path="res://Data/InventoryData.gd" id="5_7mycd"]
[ext_resource type="Script" uid="uid://bg2a6tr7dx7cs" path="res://Data/InventorySlotData.gd" id="6_272bh"]
[ext_resource type="Script" uid="uid://mcdm8xr3sdvh" path="res://Items/container.gd" id="6_ycdy4"]
[ext_resource type="PackedScene" uid="uid://vesf8xtd74rn" path="res://Items/Interactables/lamp.tscn" id="7_272bh"]
[ext_resource type="Resource" uid="uid://byolvrc0xdcmv" path="res://Data/Containers/fridge.tres" id="7_efxa6"]
[ext_resource type="PackedScene" uid="uid://cpgeyy1mbt8q4" path="res://Map/fridge.glb" id="8_efxa6"]
[ext_resource type="Script" uid="uid://8yo1utsr8bth" path="res://Items/interactable.gd" id="8_w48qg"]
[ext_resource type="PackedScene" uid="uid://b2hcxcswf614y" path="res://Map/Buildings/player_house.glb" id="9_kek77"]
[ext_resource type="Texture2D" uid="uid://bi1lgavhmkq5c" path="res://Interface/UI_icons.png" id="9_vivmo"]
[ext_resource type="PackedScene" uid="uid://bkqltx6hl064x" path="res://Items/door.tscn" id="10_4c57u"]
[ext_resource type="PackedScene" uid="uid://ble4a155lchnx" path="res://Map/basic_wood_nightstand.glb" id="11_w48qg"]
[ext_resource type="Resource" uid="uid://bqn8wysukgnd8" path="res://Interface/TestStuff/item_hammer.tres" id="12_yaehf"]
[ext_resource type="Resource" uid="uid://dt7862782ov4v" path="res://Data/Items/Misc/resistance_pamphlet.tres" id="13_074og"]
[ext_resource type="PackedScene" uid="uid://b1jos7r4f40bc" path="res://NPCs/npc.tscn" id="19_cegan"]
[ext_resource type="Script" uid="uid://coai26ivs6uv4" path="res://Data/NPCData.gd" id="20_82xsv"]
[ext_resource type="PackedScene" uid="uid://cokdko33hqlj1" path="res://Map/hiding_spot.tscn" id="21_getpj"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ig7tw"]

[sub_resource type="Sky" id="Sky_0xm2m"]
sky_material = SubResource("ProceduralSkyMaterial_ig7tw")

[sub_resource type="Environment" id="Environment_7dm0k"]
background_mode = 2
sky = SubResource("Sky_0xm2m")

[sub_resource type="Resource" id="Resource_kek77"]
script = ExtResource("6_272bh")
item_data = ExtResource("4_5vw27")
metadata/_custom_type_script = "uid://bg2a6tr7dx7cs"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_h2yge"]
albedo_color = Color(1, 1, 0.39215687, 1)

[sub_resource type="BoxMesh" id="BoxMesh_1bvp3"]
material = SubResource("StandardMaterial3D_h2yge")

[sub_resource type="AtlasTexture" id="AtlasTexture_272bh"]
atlas = ExtResource("9_vivmo")
region = Rect2(192, 0, 64, 64)

[sub_resource type="BoxShape3D" id="BoxShape3D_2cqfq"]
size = Vector3(1, 6.5234375, 3.0615234)

[sub_resource type="Resource" id="Resource_cegan"]
script = ExtResource("6_272bh")
item_data = ExtResource("12_yaehf")
metadata/_custom_type_script = "uid://bg2a6tr7dx7cs"

[sub_resource type="Resource" id="Resource_82xsv"]
script = ExtResource("6_272bh")
item_data = ExtResource("13_074og")
metadata/_custom_type_script = "uid://bg2a6tr7dx7cs"

[sub_resource type="Resource" id="Resource_vivmo"]
script = ExtResource("5_7mycd")
slot_datas = Array[ExtResource("6_272bh")]([SubResource("Resource_cegan"), null, null, SubResource("Resource_82xsv"), null, null])
metadata/_custom_type_script = "uid://crfuvv7qrrub3"

[sub_resource type="BoxShape3D" id="BoxShape3D_yaehf"]
size = Vector3(2.3486938, 3.250122, 3.790039)

[sub_resource type="Resource" id="Resource_getpj"]
script = ExtResource("20_82xsv")
name = "Major"
id = "major"
default_timeline = "major_search_announce_test"
conditional_barks = {
"default": ["Hmm?", "Ahoy there", "What up?", "SUCK MY DICK, SATAN FUCKAHHH!"]
}
metadata/_custom_type_script = "uid://coai26ivs6uv4"

[sub_resource type="Resource" id="Resource_d13ii"]
script = ExtResource("20_82xsv")
name = "Grunt"
id = "grunt"
conditional_barks = {
"default": ["Mind your business", "Don't cause any trouble", "Eh?", "Get outta my face", "Back up, citizen"]
}
metadata/_custom_type_script = "uid://coai26ivs6uv4"

[sub_resource type="Resource" id="Resource_ryguw"]
script = ExtResource("20_82xsv")
name = "Refugee"
id = "refugee"
default_timeline = "guest_search_imminent"
metadata/_custom_type_script = "uid://coai26ivs6uv4"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ryguw"]
albedo_color = Color(0.8727669, 0.79216146, 0.38186333, 1)

[sub_resource type="BoxMesh" id="BoxMesh_d13ii"]
material = SubResource("StandardMaterial3D_ryguw")
size = Vector3(1.75, 5.305, 2.865)

[sub_resource type="AtlasTexture" id="AtlasTexture_getpj"]
atlas = ExtResource("9_vivmo")
region = Rect2(576, 0, 64, 64)

[sub_resource type="BoxShape3D" id="BoxShape3D_1u8w0"]
size = Vector3(1.8007813, 5.3115234, 2.7626953)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_getpj"]
albedo_color = Color(0.93490076, 0.66774225, 0.26907676, 1)

[sub_resource type="BoxMesh" id="BoxMesh_getpj"]
material = SubResource("StandardMaterial3D_getpj")
size = Vector3(3, 4, 1)

[sub_resource type="AtlasTexture" id="AtlasTexture_ryguw"]
atlas = ExtResource("9_vivmo")
region = Rect2(576, 0, 64, 64)

[sub_resource type="BoxShape3D" id="BoxShape3D_getpj"]
size = Vector3(2.4814453, 3.9001465, 1)

[node name="Main" type="Node3D" unique_id=923260690]
script = ExtResource("1_ryguw")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=2094871426]
environment = SubResource("Environment_7dm0k")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment" unique_id=266780542]
transform = Transform3D(1, 0, 0, 0, 0.005113774, 0.99998695, 0, -0.99998695, 0.005113774, 0, 0, 0)

[node name="Ground" type="CSGBox3D" parent="." unique_id=1653129422]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.23692656, 0)
visible = false
use_collision = true
size = Vector3(80, 0.1, 80)

[node name="player_house" parent="." unique_id=1939223923 instance=ExtResource("9_kek77")]

[node name="Door" parent="player_house" unique_id=983619317 instance=ExtResource("10_4c57u")]
transform = Transform3D(1.6, 0, 0, 0, 1.6, 0, 0, 0, 1.6, -18.716526, -0.13075042, -3.6849256)

[node name="Door2" parent="player_house" unique_id=1775857434 instance=ExtResource("10_4c57u")]
transform = Transform3D(-0.00069806725, 0, 1.5999995, 0, 1.5999998, 0, -1.5999995, 0, -0.00069806725, -9.211445, -0.08569169, 4.71878)

[node name="Door4" parent="player_house" unique_id=1757735991 instance=ExtResource("10_4c57u")]
transform = Transform3D(-0.00070688647, 0, 1.6199998, 0, 1.62, 0, -1.6199998, 0, -0.00070688647, 15.140961, -0.08569169, 4.6999927)

[node name="Door3" parent="player_house" unique_id=2059241498 instance=ExtResource("10_4c57u")]
transform = Transform3D(0.0027925037, 0, 1.299998, 0, 1.6, 0, -1.5999976, 0, 0.0022689179, 1.8669302, -0.08569169, 4.752642)

[node name="PlayerCharacter" parent="." unique_id=395488164 instance=ExtResource("1_ig7tw")]
transform = Transform3D(2.2, 0, 0, 0, 2.2, 0, 0, 0, 2.2, 0, 0.31503916, 0)

[node name="HUD" parent="." unique_id=758873281 instance=ExtResource("2_074og")]

[node name="InventoryUI" parent="." unique_id=1602292331 instance=ExtResource("2_0xm2m")]
process_mode = 3

[node name="Grabbable" parent="." unique_id=1152141539 instance=ExtResource("3_h2yge")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 1, -2)
id = "wine"
slot_data = SubResource("Resource_kek77")

[node name="Containers" type="Node3D" parent="." unique_id=1755705583]

[node name="Fridge" type="StaticBody3D" parent="Containers" unique_id=93282791]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 7.110906, -0.10949898, -10.73159)
script = ExtResource("6_ycdy4")
container_inventory = ExtResource("7_efxa6")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Containers/Fridge" unique_id=57309622]
visible = false
mesh = SubResource("BoxMesh_1bvp3")

[node name="Interactable" type="Area3D" parent="Containers/Fridge" unique_id=844407554]
collision_layer = 2
collision_mask = 2
script = ExtResource("8_w48qg")
id = "fridge"
interact_icon = SubResource("AtlasTexture_272bh")
interact_text = "Open"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Containers/Fridge/Interactable" unique_id=595969542]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.7910948, 0)
shape = SubResource("BoxShape3D_2cqfq")

[node name="BodyCollision" type="CollisionShape3D" parent="Containers/Fridge" unique_id=1340977184]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.7617188, 0)
shape = SubResource("BoxShape3D_2cqfq")

[node name="fridge" parent="Containers/Fridge" unique_id=661021462 instance=ExtResource("8_efxa6")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 0, 0, 0)

[node name="Nightstand" type="StaticBody3D" parent="Containers" unique_id=427099316]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -17.68187, 0, 15.928818)
script = ExtResource("6_ycdy4")
container_inventory = SubResource("Resource_vivmo")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Containers/Nightstand" unique_id=1068060813]
visible = false
mesh = SubResource("BoxMesh_1bvp3")

[node name="Interactable" type="Area3D" parent="Containers/Nightstand" unique_id=1774068010]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2.509985)
collision_layer = 2
collision_mask = 2
script = ExtResource("8_w48qg")
id = "nightstand"
interact_icon = SubResource("AtlasTexture_272bh")
interact_text = "Open"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Containers/Nightstand/Interactable" unique_id=1438303582]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.43710327, 0.9770359, -0.38651657)
shape = SubResource("BoxShape3D_yaehf")

[node name="BodyCollision" type="CollisionShape3D" parent="Containers/Nightstand" unique_id=1294355425]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.55186653, 1.0263623, -2.9237823)
shape = SubResource("BoxShape3D_yaehf")

[node name="basic_wood_nightstand" parent="Containers/Nightstand" unique_id=1504234660 instance=ExtResource("11_w48qg")]

[node name="Lamp" parent="Containers/Nightstand" unique_id=1271117152 instance=ExtResource("7_272bh")]
transform = Transform3D(1.25, 0, 0, 0, 1.25, 0, 0, 0, 1.25, 0.27019882, 2.6980603, -1.7828655)

[node name="NPCs" type="Node3D" parent="." unique_id=1576685263]

[node name="Major" parent="NPCs" unique_id=610944064 instance=ExtResource("19_cegan")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.838703, 0, -3.702774)
npc_data = SubResource("Resource_getpj")

[node name="Grunt" parent="NPCs" unique_id=26024771 instance=ExtResource("19_cegan")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.863255, 0, -5.8265653)
npc_data = SubResource("Resource_d13ii")

[node name="TestRefugee" parent="NPCs" unique_id=2024641856 instance=ExtResource("19_cegan")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.139555, 0.594924, 2.0548325)
npc_data = SubResource("Resource_ryguw")

[node name="HidingSpots" type="Node3D" parent="." unique_id=706021514]

[node name="Cupboard" type="MeshInstance3D" parent="HidingSpots" unique_id=1693534653]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.39284, 2.5153966, 3.105447)
mesh = SubResource("BoxMesh_d13ii")

[node name="HidingSpot" parent="HidingSpots/Cupboard" unique_id=85300068 instance=ExtResource("21_getpj")]
spot_id = "cupboard"
concealment_score = 0.7
id = "cupboard"
interact_icon = SubResource("AtlasTexture_getpj")
interact_text = "Hide here!"

[node name="CollisionShape3D" parent="HidingSpots/Cupboard/HidingSpot" index="0" unique_id=1822048844]
shape = SubResource("BoxShape3D_1u8w0")

[node name="Wardrobe" type="MeshInstance3D" parent="HidingSpots" unique_id=2130162707]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5898411, 1.8217065, 4.108092)
mesh = SubResource("BoxMesh_getpj")

[node name="HidingSpot" parent="HidingSpots/Wardrobe" unique_id=1134576830 instance=ExtResource("21_getpj")]
spot_id = "wardrobe"
id = "wardrobe"
interact_icon = SubResource("AtlasTexture_ryguw")
interact_text = "Hide here!"

[node name="CollisionShape3D" parent="HidingSpots/Wardrobe/HidingSpot" index="0" unique_id=1822048844]
shape = SubResource("BoxShape3D_getpj")

[editable path="HidingSpots/Cupboard/HidingSpot"]
[editable path="HidingSpots/Wardrobe/HidingSpot"]
